{"version":3,"sources":["../src/pools.ts"],"sourcesContent":["/// Reference \"All-Asset Deposit/Withdrawal\" section in Balancer whitepaper https://docs.balancer.fi/v/v1/core-concepts/protocol/index\n/// ********************************************************************************************\n/// computeAssetAmountToReturn                                                                    //\n/// Ak = tokenKReturned                                                                           //\n/// Pissued = poolTokenIssued                                                                     //\n/// Predeemed = poolTokenRedeemed                                                                 //\n/// Bk = balanceTokenK            /       Psupply - Predeemed      \\                              //\n///                       Ak =   |  1 - ------------------------    |  * Bk                       //\n///                               \\           Psupply              /                              //\n///                                                                                               //\n/// Simplified, Ak: Ak = Predeemed * Bk / Psupply                                                 //\n/// ********************************************************************************************\nexport function computeAssetAmountToReturn(\n  balance: number,\n  p_redeemed: number,\n  p_supply: number,\n): number {\n  return (balance / p_supply) * p_redeemed;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAYO,SAAS,2BACd,SACA,YACA,UACQ;AACR,SAAQ,UAAU,WAAY;AAChC;","names":[]}